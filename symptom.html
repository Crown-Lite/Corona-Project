<!DOCTYPE html>
<html lang="en">

<head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta http-equiv="X-UA-Compatible" content="ie=edge">
      <title>Crown-lite</title>


      <!-- stylesheet -->
      <link rel="stylesheet" href="style.css">
      <link rel="stylesheet" href="slider/style/slider-def.css">


      <!-- google fonts -->
      <link href="https://fonts.googleapis.com/css?family=Darker+Grotesque:300,400,500,600,700,800,900&display=swap"
            rel="stylesheet">

      <!-- bootstrap -->
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

      <!-- icons -->
      <script src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons.js"></script>

      <!-- for on scroll animations -->
      <link rel="stylesheet" href="https://cdn.rawgit.com/daneden/animate.css/v3.1.0/animate.min.css">
      <script src="https://cdn.rawgit.com/matthieua/WOW/1.0.1/dist/wow.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/vue"></script>
</head>

<body>
      <div id="preloader" class="loaded">
            <div id="status"></div>

      </div>
      <a name="home"></a>
      <div class="wrapper">

            <!--------------- hero section starts here --------------->

            <div class="video-container2">
                  <video playsinline autoplay muted loop id="bgvid" class="video">
                        <source src="img/bloodstream.mp4" type="video/mp4">
                  </video>
            </div>

            <div class="header2">
                  <h1>Symptom Checker</h1>
            </div>


            <!--------------- hero section ends here --------------->

            <!--------------- navbar starts here --------------->

            <nav class="nav">


                  <ul id="menu">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="symptom.html">Symptom Checker</a></li>
                        <li><a href="testing-centers.html">Nearby Testing Centers</a></li>
                        <li><a href="statistics.html">Corona statistics</a></li>
                        <li><a href="news.html">Prevention</a></li>
                  </ul>

                  <div id="toggle">
                        <div class="span">menu</div>
                  </div>

            </nav>

            <div id="resize">
                  <div class="close-btn">close</div>

                  <ul id="menu">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="symptom.html">Symptom Checker</a></li>
                        <li><a href="testing-centers.html">Nearby Testing Centers</a></li>
                        <li><a href="statistics.html">Corona statistics</a></li>
                        <li><a href="news.html">Prevention</a></li>


                  </ul>
            </div>

            <!--------------- navbar ends here --------------->

            <div class="content2">

                  <!--------------- about section starts here --------------->

                  <a name="about"></a>

                  <section class="story">


                        <div class="container-fluid">

                              <div class="section-data">

                                    <div class="row">
                                          <div class="col-md-4"></div>
                                          <div class="col-md-6 section-subheading wow fadeInUp" data-wow-delay="0.5s">
                                                <h1>Symptom Checker</h1>
                                          </div>
                                    </div>

                                    <div class="row">
                                          <div class="col-md-4"></div>
                                          <div class="col-md-6 section-info wow fadeInUp" data-wow-delay="0.6s">Note:
                                                The Content is not intended to be a substitute for professional medical
                                                advice, diagnosis, or treatment. Always seek the advice of your
                                                physician or other qualified health provider with any questions you may
                                                have regarding a medical condition. Sources for the medical knowledge: WHO and the CDC
                                                <h2>Check which of the following symptoms apply to you:<br> </h2>
                                                <br>
                                          </div>

                                    </div>

                                    <div class="row">
                                          <div class="col-md-2">
                                          </div>
                                          <div class="col-md-2 section-index wow fadeInUp" data-wow-delay="0.3s">
                                          </div>
                                          <div class="col-md-8 section-heading wow fadeInUp" data-wow-delay="0.4s">
                                          </div>
                                    </div>
                              </div>
                                                <!--VUE JS #APP BEGINS HERE-->
                                                <div id="app">
                                                      <!-- Checkboxes list -->
                                                      <!--@submit.prevent="onSubmit"-->
                                                      <form class="symptom-inputs">
                                                            <div class="symptom-checkbox col-md-6 offset-md-4" v-for="(symptom, index) in symptomsData">
                                                                  <input class="symptom-checkbox" type='checkbox' v-bind:value='symptom'
                                                                        v-model="checkedSymptoms">  {{ symptomsData[index].texts }}
                                                                  </input>
                                                            </div>
                                                            <p class="col-md-6 offset-md-4"><strong>Note: if you have anything of the symptoms marked
                                                                        with an asterisk (*) then you should seek
                                                                        emergency medical care immediately</strong></p>

                                                            <!-- <input type='button' @click='printValues()' value='Print Selected Values'></input>
                                                            Selected items : {{ totalSelected }}  -->
                                                            <div class="col-md-6 offset-md-4">
                                                                  <label>Other Symptoms: </label>
                                                                  <textarea class="other-symptoms" id="otherSymptoms"
                                                                        v-model="otherSymptoms">
                                                                  </textarea>
                                                            </div>
                                                            <br>
                                                            <div class="col-md-6 offset-md-4">
                                                                  <label for="LocationCategory">Use the map to select
                                                                        the category which you have spent the most time
                                                                        in.:</label>
                                                                  <img class="symptom-key"src="img/categoryLegend.png">

                                                                  <select name="LocationCategory"
                                                                        v-model="selectedCategory">
                                                                        <option value="7">7</option>
                                                                        <option value="6">6</option>
                                                                        <option value="5">5</option>
                                                                        <option value="4">4</option>
                                                                        <option value="3">3</option>
                                                                        <option value="2">2</option>
                                                                        <option value="1">1</option>
                                                                  </select>
                                                                  
                                                            </div>
                                                      </form>
                             
                                                          
                                                           
                                                            <div class="symptom-results col-md-6 offset-md-4">
                                                                  <button v-on:click="calculateSymptoms">Submit</button>
                                                                  <p>{{result}}</p>
                                                                  <p v-if="hasAnyVirus"><strong>Percent Certainty: {{percentage}}</strong></p>
                                                                </div>
                                                                <center>
                                                       <div >
                                                                  <iframe class="col-md-12"style="width: 60%; height: 1000px; overflow: hidden;"
                                                                  src="https://www.arcgis.com/apps/opsdashboard/index.html#/409af567637846e3b5d4182fcd779bea"
                                                                  width="10" height="1000">Iframes not supported</iframe>
                                                            <p>Map Credit: Johns Hopkins University</p>
                                                            </div>
                                                      </center>

                                                    
                                                      <div class="row">
                                                            <div class="col-md-4"></div>
                                                            <!-- <div class="col-md-6 section-info wow fadeInUp" data-wow-delay="0.6s">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Commodi odio eligendi dolorem pariatur obcaecati iste voluptas laudantium vel voluptates, ipsa suscipit tempore alias laborum. Consequatur aliquam libero eaque! Delectus, suscipit?</div> -->
                                                      </div>

                                                     

                                                </div>
                                                <!--VUE JS #APP ENDS HERE-->
                        </div>



                  </section>

                  <!--------------- about section ends here --------------->



                  <!--------------- footer starts here --------------->

                  <div class="footer">

                        <div class="container">

                              <div class="info">

                                    <div class="row">
                                          <div class="col-md-4 wow fadeInUp" data-wow-delay="0.3s" id="address">
                                                <p> <span>Copyright &copy;
                                                            <script>document.write(new Date().getFullYear());</script>
                                                      </span></p>
                                                      <p> Team EN-DOS <br> Elizabeth Bruda, Natasha Setiadi, Donald Nelson, Owen Orsini, and Sanjay Ravigopal</p>
                                                <br><br>
                                          </div>

                                          <div class="col-md-4 wow fadeInUp" data-wow-delay="0.4s" id="media">
                                                <!-- <ul>
                                                      <li><ion-icon name="logo-facebook"></ion-icon></li>
      
                                                      <li><ion-icon name="logo-instagram"></ion-icon></li>
      
                                                      <li><ion-icon name="logo-twitter"></ion-icon></li>
      
                                                      <li><ion-icon name="logo-youtube"></ion-icon></li>
                                                </ul> -->

                                                <br><br>
                                          </div>

                                          <div class="col-md-4 wow fadeInUp" data-wow-delay="0.5s" id="mail">
                                                <p><a target="_blank">Video Background by Videezy.com</a></p>

                                          </div>

                                    </div>



                              </div>

                        </div>

                  </div>

            </div>

            <!--------------- footer ends here --------------->

      </div>

      </div>

      <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.26/vue.min.js"></script>
            <script>
var app = new Vue({
    el: '#app',
	data: {
        symptomsData: [
			{
				texts: "Persistent dry cough",
                point: [{
                    covid19: 20,
                    cold: 15,
                    flu: 20 
                }
                ],
                checked: false

            },
			{
				texts: "Fever",
                point: [
                {
                    covid19: 20,
                    cold: 5,
                    flu: 20
                }
                ],
                checked: false
            },

            {
                texts: "Fatigue",
                point: [
                {
                    covid19: 10,
                    cold: 10,
                    flu: 15
                }
                ],
                checked: false
            },

            {
                texts: "Muscle or body aches",
                point: [
                {
                    covid19: 10,
                    cold: 15,
                    flu: 20
                }
                ],
                checked: false
            },

            {
                texts: "Headache",
                point: [
                    {
                        covid19: 10,
                        cold: 5,
                        flu: 20
                    }
                    ],
                checked: false
            },
            
            {
                texts: "Loss of taste or smell",
                point: [
                    {
                        covid19: 10,
                        cold: 20,
                        flu: 20
                    }
                    ],
                checked: false
            },
            
            {
                texts: "Sore throat",
                point: [
                    {
                        covid19: 10,
                        cold: 20,
                        flu: 10
                    }
                    ],
                checked: false
            },
            
            {
                texts: "Congestion or runny nose",
                point: [
                    {
                        covid19: 5,
                        cold: 20,
                        flu: 10
                    }
                    ],
                checked: false
            },
            
            {
                texts: "Nausea or vomiting",
                point: [
                    {
                        covid19: 5,
                        cold: 0,
                        flu: 0
                    }
                    ],
                checked: false
            }, 
            {
                texts: "Sneezing",
                point: [
                    {
                        covid19: 0,
                        cold: 20,
                        flu: 10
                    }
                    ],
                checked: false
            },
            
            {
                texts: "Diarrhea",
                point: [
                    {
                        covid19: 5,
                        cold: 0,
                        flu: 0
                    }
                    ],
                checked: false
            },
            {
                texts: "Chills, repeated shaking",
                point: [
                {
                    covid19: 10,
                    cold: 5,
                    flu: 20
                }
                ],
                checked: false
            },
            {
                texts: "Swollen toes",
                point: [
                {
                    covid19: 5,
                    cold: 0,
                    flu: 0
                }
                ],
                checked: false
            },
            {
                texts: "Shortness of breath or difficulty breathing",
                point: [
                {
                    covid19: 10,
                    cold: 0,
                    flu: 0
                }
                ],
                checked: false
            },

            {
                texts: "Persistent pain or pressure in the chest *",
                point: [
                {
                    covid19: 20,
                    cold: 0,
                    flu: 0
                }
                ],
                checked: false
            },
            
            {
                texts: "New confusion *",
                point: [
                    {
                        covid19: 10,
                        cold: 10,
                        flu: 15
                    }
                    ],
                checked: false
            },
            
            {
                texts: "Inability to wake or stay awake *",
                point: [
                    {
                        covid19:10,
                        cold: 10,
                        flu: 10
                    }
                    ],
                checked: false
            },
            
            
            {
                texts: "Bluish lips or face *",
                point: [
                    {
                        covid19: 15,
                        cold: 0,
                        flu: 0
                    }
                    ],
                checked: false
            }
        ],
        
        checkedSymptoms: [

        ],

        selectedSymptoms: "",

        otherSymptoms: "",

        selectedCategory: 1,
        result: "",
        percentage: null,
        
        hasAnyVirus: false
    },
    computed: {
        totalSelected: function(){
            total = ""
            for(var i in this.checkedSymptoms)
            {
                total += this.checkedSymptoms[i].texts + ", "
            }
            return total
        },

        countCovid: function(){
            total = 0;
            for(var i in this.checkedSymptoms)
            {
                total = total + this.checkedSymptoms[i].point[0].covid19;
            }
            return total
        },

        countCold: function(){
            total = 0;
            for(var i in this.checkedSymptoms)
            {
                total = total + this.checkedSymptoms[i].point[0].cold;
            }
            return total
        },

        countFlu: function(){
            total = 0;
            for(var i in this.checkedSymptoms)
            {
                total = total + this.checkedSymptoms[i].point[0].flu;
            }
            return total
        }
    },
    methods: {
        calculateSymptoms: function(event)
        {
            covid19total = this.countCovid;
            covid19total = covid19total * this.selectedCategory; //adds in the location factor

            //total from symptoms
            coldtotal = this.countCold;
            flutotal = this.countFlu;

            //extra COVID19 symptoms that are less common
            if(this.otherSymptoms.includes("tired"))
            {
                covid19total +=5;
            }

            if(this.otherSymptoms.includes("rash")) 
            {
                covid19total +=5;
            }

            if(this.otherSymptoms.includes("weak"))
            {
                covid19total +=5;
            }

            if(this.otherSymptoms.includes("dizzy"))
            {
                covid19total +=5;
            }
            
            //divides by total possible points
            covid19total = covid19total / 1435;
            coldtotal = coldtotal / 155;
            flutotal =  flutotal/190;


             /*
            console.log("COVID: " + covid19total);
            console.log("Cold: " + coldtotal);
            console.log("Flu: " + flutotal); */

            var totals = [];
            totals.push(covid19total);
            totals.push(coldtotal);
            totals.push(flutotal);


            //changes to not have any 100% percentages
            for(var i = 0; i < totals.length; i++)
            {
                if(totals[i] >= 100)
                {
                    totals[i] = 99.00;
                }
            }
            
            //finds maximum value
            max = covid19total;
            maxIndex= 0
            for (var i = 1; i < totals.length; i++) 
            {
                if(totals[i] > max)
                {
                    max = totals[i];
                    maxIndex = i;
                }
            }

            //makes sure that all totals are greater than 0
            var NoneGreaterThanZero = true;
            for (var j = 0; j < totals.length; j++) 
            {
                if(totals[j] > 0)
                {
                    NoneGreaterThanZero = false;
                    break;
                }
            }

         
            if(NoneGreaterThanZero == false)
            {
                if(totals[0] == totals[1] && totals[1] == totals[2])
                {
                    this.result = "You could have either COVID19, the cold, or the flu";
                    this.percentage = totals[0] * 100;
                    this.percentage = this.percentage.toFixed(2);
                    this.hasAnyVirus = true;
                }
                else
                {

                if(maxIndex == 0)
                {
                    if(totals[0] == totals[1])
                    {
                        this.result = "You could have either COVID19 or the cold";
                        this.percentage = totals[0] * 100;
                        this.percentage = this.percentage.toFixed(2);
                        this.hasAnyVirus = true;
                    }

                    if(totals[0] == totals[2])
                    {
                        this.result = "You could have either COVID19 or the flu";
                        this.percentage = totals[0] * 100;
                        this.percentage = this.percentage.toFixed(2);
                        this.hasAnyVirus = true;
                    }

                    else
                    {
                        this.result= "You most likely have COVID19";
                        this.percentage = totals[0] * 100;
                        this.percentage = this.percentage.toFixed(2);
                        this.hasAnyVirus = true;
                    }
                }

                if(maxIndex == 1)
                {
                    if(totals[1] == totals[0])
                    {
                        this.result = "You could have either COVID19 or the cold";
                        this.percentage = totals[1] * 100;
                        this.percentage = this.percentage.toFixed(2);
                        this.hasAnyVirus = true;
                    }

                    if(totals[1] == totals[2])
                    {
                        this.result = "You could have either the cold or the flu";
                        this.percentage = totals[1] * 100;
                        this.percentage = this.percentage.toFixed(2);
                        this.hasAnyVirus = true;
                        if(this.selectedCategory >= 6)
                        {
                            this.result += ". However since you have spent time in an area with a high density of COVID19 cases you could possibly have COVID19";
                        }
        
                    }

                    else
                    {
                        this.result= "You most likely have cold";
                        this.percentage = totals[1] * 100;
                        this.percentage = this.percentage.toFixed(2);
                        this.hasAnyVirus = true;
                        if(this.selectedCategory >= 6)
                        {
                            this.result += ". However since you have spent time in an area with a high density of COVID19 cases you could possibly have COVID19";
                        }
        
                    }
                }

                if(maxIndex == 2)
                {
                    if(totals[2] == totals[0])
                    {
                        this.result = "You could have either COVID19 or the flu";
                        this.percentage = totals[2] * 100;
                        this.percentage = this.percentage.toFixed(2);
                        this.hasAnyVirus = true;
                        
                    }

                    if(totals[2] == totals[1])
                    {
                        this.result = "You could have either the cold or the flu";
                        this.percentage = totals[2] * 100;
                        this.percentage = this.percentage.toFixed(2);
                        this.hasAnyVirus = true;
                        if(this.selectedCategory >= 6)
                        {
                            this.result += ". However since you have spent time in an area with a high density of COVID19 cases you could possibly have COVID19";
                        }
        
                    }

                    else
                    {
                        this.result= "You most likely have flu";
                        this.percentage = totals[2] * 100;
                        this.percentage = this.percentage.toFixed(2);
                        this.hasAnyVirus = true;
                        if(this.selectedCategory >= 6)
                        {
                            this.result += ". However since you have spent time in an area with a high density of COVID19 cases you could possibly have COVID19";
                        }
        
                    }
                }
            }
            }

            else
            {
                this.result= "You most likely do not have either COVID19, the cold, or the flu";
            }
        },
          
          printValues: function(event)
          {
            this.selectedSymptoms = "";
            // Read Checked checkboxes value
            for (var key in this.checkedSymptoms) 
            {
               this.selectedSymptoms += this.checkedSymptoms[key]+", "; 
            }
          } 
          
    }
});

            $(window).on('load', function () {

                  $('#status').fadeOut();
                  $('#preloader').delay(350).fadeOut('slow');
                  $('#body').delay(350).css({ 'overflow': 'visible' });

            })
            // navigation starts here
            $("#toggle").click(function () {
                  $(this).toggleClass('on');
                  $("#resize").toggleClass("active");
            });
            $("#resize ul li a").click(function () {
                  $(this).toggleClass('on');
                  $("#resize").toggleClass("active");
            });
            $(".close-btn").click(function () {
                  $(this).toggleClass('on');
                  $("#resize").toggleClass("active");
            });

            $(function () {
                  $(document).scroll(function () {
                        var $nav = $(".nav");
                        $nav.toggleClass('scrolled', $(this).scrollTop() > $nav.height());
                  });
            });

            new WOW().init();

            // Select all links with hashes
            $('a[href*="#"]')
                  // Remove links that don't actually link to anything
                  .not('[href="#"]')
                  .not('[href="#0"]')
                  .click(function (event) {
                        // On-page links
                        if (
                              location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '')
                              &&
                              location.hostname == this.hostname
                        ) {
                              // Figure out element to scroll to
                              var target = $(this.hash);
                              target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
                              // Does a scroll target exist?
                              if (target.length) {
                                    // Only prevent default if animation is actually gonna happen
                                    event.preventDefault();
                                    $('html, body').animate({
                                          scrollTop: target.offset().top
                                    }, 1000, function () {
                                          // Callback after animation
                                          // Must change focus!
                                          var $target = $(target);
                                          $target.focus();
                                          if ($target.is(":focus")) { // Checking if the target was focused
                                                return false;
                                          } else {
                                                $target.attr('tabindex', '-1'); // Adding tabindex for elements not focusable
                                                $target.focus(); // Set focus again
                                          };
                                    });
                              }
                        }
                  });


      </script>
      <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
      <script>
            $(window).on('load', function () {

                  $('#status').fadeOut();
                  $('#preloader').delay(350).fadeOut('slow');
                  $('#body').delay(350).css({ 'overflow': 'visible' });

            })
            // navigation starts here
            $("#toggle").click(function () {
                  $(this).toggleClass('on');
                  $("#resize").toggleClass("active");
            });
            $("#resize ul li a").click(function () {
                  $(this).toggleClass('on');
                  $("#resize").toggleClass("active");
            });
            $(".close-btn").click(function () {
                  $(this).toggleClass('on');
                  $("#resize").toggleClass("active");
            });

            $(function () {
                  $(document).scroll(function () {
                        var $nav = $(".nav");
                        $nav.toggleClass('scrolled', $(this).scrollTop() > $nav.height());
                  });
            });

            new WOW().init();

            // Select all links with hashes
            $('a[href*="#"]')
                  // Remove links that don't actually link to anything
                  .not('[href="#"]')
                  .not('[href="#0"]')
                  .click(function (event) {
                        // On-page links
                        if (
                              location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '')
                              &&
                              location.hostname == this.hostname
                        ) {
                              // Figure out element to scroll to
                              var target = $(this.hash);
                              target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
                              // Does a scroll target exist?
                              if (target.length) {
                                    // Only prevent default if animation is actually gonna happen
                                    event.preventDefault();
                                    $('html, body').animate({
                                          scrollTop: target.offset().top
                                    }, 1000, function () {
                                          // Callback after animation
                                          // Must change focus!
                                          var $target = $(target);
                                          $target.focus();
                                          if ($target.is(":focus")) { // Checking if the target was focused
                                                return false;
                                          } else {
                                                $target.attr('tabindex', '-1'); // Adding tabindex for elements not focusable
                                                $target.focus(); // Set focus again
                                          };
                                    });
                              }
                        }
                  });
      </script>
</body>

</html>